{"ast":null,"code":"import _regeneratorRuntime from\"D:/React JS/Projects/Warehouse Management/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/React JS/Projects/Warehouse Management/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/React JS/Projects/Warehouse Management/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState,useEffect}from'react';import{Box,Typography,Avatar,Menu}from'@mui/material';import{useNavigate,useLocation}from'react-router-dom';import i18next from'i18next';import{useTranslation}from'react-i18next';import{useDispatch}from'react-redux';import{commonAction}from'../../redux/commonSlice';import MenuItem from'@mui/material/MenuItem';import FormControl from'@mui/material/FormControl';import LogoutIcon from'@mui/icons-material/Logout';import VpnKeyIcon from'@mui/icons-material/VpnKey';import Select,{SelectChangeEvent}from'@mui/material/Select';import{arrayBufferToBase64,formatUserName}from'../../functions';import\"./Header.scss\";import vnImg from\"../../assets/images/languages/vn.png\";import engImg from\"../../assets/images/languages/en.png\";import userImg from\"../../assets/images/avatar.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Header=function Header(){////// Modal User\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),anchorEl=_useState2[0],setAnchorEl=_useState2[1];var open=Boolean(anchorEl);var location=useLocation();var _isPath=location.pathname.replace('/','')===\"scan-result\"?true:false;var handleClick=function handleClick(event){setAnchorEl(event.currentTarget);};var handleClose=function handleClose(){setAnchorEl(null);};////// React-Redux\nvar dispatch=useDispatch();var handleLang=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(value){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return dispatch(commonAction.setLang(value.replace(\"_WH\",\"\")));case 2:case\"end\":return _context.stop();}},_callee);}));return function handleLang(_x){return _ref.apply(this,arguments);};}();///// Set Default language\nvar i18_Value=i18next.language!==null&&i18next.language!==undefined&&i18next.language!==\"\"?i18next.language:\"en_WH\";var _useState3=useState(i18_Value),_useState4=_slicedToArray(_useState3,2),lang=_useState4[0],setLang=_useState4[1];var handleChange=function handleChange(event){i18next.changeLanguage(event.target.value);handleLang(event.target.value);setLang(event.target.value);};var navigate=useNavigate();///// Translate \nvar _useTranslation=useTranslation(),t=_useTranslation.t;useEffect(function(){handleLang(i18_Value);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);////// Handle Navigate\nvar handleNavigate=function handleNavigate(path){switch(path){case\"password\":navigate(\"/password-change\",{replace:_isPath});break;case\"log-out\":sessionStorage.removeItem('userDataWH');navigate(\"/log-in\",{replace:true});break;default:navigate(\"/\",{replace:_isPath});}};///// User Data\nvar _userData=JSON.parse(sessionStorage.getItem('userDataWH'));var _avatarImg=_userData===null?userImg:arrayBufferToBase64(_userData.PHOTO.data);var _avatarName=_userData===null?\"Guest User\":formatUserName(_userData.NAME);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Box,{className:\"s-header\",children:[/*#__PURE__*/_jsxs(Box,{className:\"s-header-text\",onClick:function onClick(){return handleNavigate(\"\");},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",component:\"div\",className:\"s-header-logo\",children:\"CSG\"}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h1\",className:\"s-header-title s-header-title__top\",children:\"Warehouse\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h2\",className:\"s-header-title s-header-title__bot\",children:\"Management System\"})]})]}),/*#__PURE__*/_jsxs(Box,{className:\"s-header-content\",children:[/*#__PURE__*/_jsx(Box,{className:\"s-header-lang\",children:/*#__PURE__*/_jsx(FormControl,{sx:{m:1},size:\"small\",variant:\"standard\",className:\"s-lang__select\",children:/*#__PURE__*/_jsxs(Select,{value:lang,onChange:handleChange,className:\"s-lang\",children:[/*#__PURE__*/_jsxs(MenuItem,{value:\"en_WH\",className:\"s-lang__item\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"img\",{src:engImg,alt:\"English\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"English\"})]}),/*#__PURE__*/_jsxs(MenuItem,{value:\"vn_WH\",className:\"s-lang__item\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"img\",{src:vnImg,alt:\"Vietnam\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Vietnam\"})]})]})})}),/*#__PURE__*/_jsxs(Box,{className:\"s-avatar\",onClick:handleClick,children:[/*#__PURE__*/_jsx(Avatar,{alt:\"avatar\",src:_avatarImg,className:\"s-avatar__thumb\"}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsxs(Typography,{className:\"s-avatar__title\",children:[t('welcome'),\",\"]}),/*#__PURE__*/_jsx(Typography,{className:\"s-avatar__name\",children:_avatarName})]})]})]})]}),/*#__PURE__*/_jsxs(Menu,{anchorEl:anchorEl,id:\"account-menu\",open:open,onClose:handleClose,onClick:handleClose,PaperProps:{elevation:0,sx:{overflow:'visible',filter:'drop-shadow(0px 2px 3px rgba(0,0,0,0.15))',mt:1.5,'& .MuiAvatar-root':{width:32,height:32,ml:-0.5,mr:1},'&:before':{content:'\"\"',display:'block',position:'absolute',top:0,right:14,width:10,height:10,bgcolor:'background.paper',transform:'translateY(-50%) rotate(45deg)',zIndex:0}}},transformOrigin:{horizontal:'right',vertical:'top'},anchorOrigin:{horizontal:'right',vertical:'bottom'},children:[/*#__PURE__*/_jsxs(MenuItem,{className:\"s-user__item\",onClick:function onClick(){return handleNavigate(\"password\");},children:[/*#__PURE__*/_jsx(VpnKeyIcon,{style:{color:\"#00000099\",fontSize:22}}),\" \",t('btn_change_pass')]}),/*#__PURE__*/_jsxs(MenuItem,{className:\"s-user__item\",onClick:function onClick(){return handleNavigate(\"log-out\");},children:[/*#__PURE__*/_jsx(LogoutIcon,{style:{color:\"#00000099\",fontSize:22}}),\" \",t('btn_logout')]})]})]});};export default Header;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}