{"ast":null,"code":"import _regeneratorRuntime from\"D:/React JS/Projects/Warehouse Management/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/React JS/Projects/Warehouse Management/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"D:/React JS/Projects/Warehouse Management/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/React JS/Projects/Warehouse Management/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/React JS/Projects/Warehouse Management/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from'react';import{useState}from'react';import{Box,Typography,Modal}from'@mui/material';import FormInput from'../../Form/Input/FormInput';import{useTranslation}from'react-i18next';import{fetchData,isNullOrEmpty}from'../../../functions';import{updateUserURL}from'../../../api';import HighlightOffIcon from'@mui/icons-material/HighlightOff';import{encode as base64_encode}from\"base-64\";import ButtonRound from'../../Button/Round/ButtonRound';import thumb from\"../../../assets/images/signal/options.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ModalRegister=function ModalRegister(_ref){var open=_ref.open,handleClose=_ref.handleClose,baseData=_ref.baseData,handleNavigate=_ref.handleNavigate;////// Translate\nvar _useTranslation=useTranslation(),t=_useTranslation.t;////// Basic Data\nvar _useState=useState({\"NEW_PASS\":\"\",\"CONFIRM_PASS\":\"\"}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),valid=_useState4[0],setValid=_useState4[1];///////Handle Change Text Field\nvar handleChange=function handleChange(event){if(valid){setValid(false);}setData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},_defineProperty({},event.target.name,event.target.value));});};////// Handle Change Default Password\nvar handleReg=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _validate,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return handleValidate();case 2:_validate=_context.sent;if(!_validate){_context.next=8;break;}_context.next=6;return fetchData(updateUserURL,{ARG_TYPE:\"Q_UPDATE\",ARG_EMPID:baseData,ARG_PASS:base64_encode(data.NEW_PASS)});case 6:result=_context.sent;if(result){handleNavigate();}case 8:case\"end\":return _context.stop();}},_callee);}));return function handleReg(){return _ref2.apply(this,arguments);};}();///// Validate Data\nvar handleValidate=function handleValidate(){var _result=true;if(isNullOrEmpty(data.NEW_PASS)){_result=false;return _result;}if(isNullOrEmpty(data.CONFIRM_PASS)){_result=false;return _result;}if(data.NEW_PASS!==data.CONFIRM_PASS){setValid(true);_result=false;return _result;}return _result;};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Modal,{open:open,onClose:handleClose,\"aria-labelledby\":\"modal-modal-title\",\"aria-describedby\":\"modal-modal-description\",children:/*#__PURE__*/_jsxs(Box,{className:\"s-modal\",children:[/*#__PURE__*/_jsx(Box,{className:\"s-modal__thumb s-mt\",children:/*#__PURE__*/_jsx(\"img\",{src:thumb,alt:\"Register\"})}),/*#__PURE__*/_jsx(Typography,{id:\"modal-modal-title\",variant:\"h5\",className:\"s-modal__title\",children:t('change_title')}),/*#__PURE__*/_jsx(Typography,{id:\"modal-modal-desc\",variant:\"h6\",component:\"h2\",className:\"s-modal__desc s-modal__desc--sec\",children:t('change_desc')}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(Box,{sx:{marginBottom:1,marginTop:2},children:[/*#__PURE__*/_jsx(FormInput,{title:t('frm_newpass'),placeholder:t('pl_newpass'),value:data.NEW_PASS,isDefault:true,name:\"NEW_PASS\",disable:false,handleEvent:handleChange,isImportant:true,inputProp:{inputMode:'text'},isValidate:!isNullOrEmpty(data.NEW_PASS),message:t('validate_data')}),valid&&/*#__PURE__*/_jsxs(Typography,{className:\"b-validate\",children:[/*#__PURE__*/_jsx(HighlightOffIcon,{sx:{width:'17px',height:'17px'}}),t('validate_equal')]})]}),/*#__PURE__*/_jsxs(Box,{sx:{marginBottom:3},children:[/*#__PURE__*/_jsx(FormInput,{title:t('frm_confirmpass'),placeholder:t('pl_confirmpass'),value:data.CONFIRM_PASS,isDefault:true,name:\"CONFIRM_PASS\",disable:false,handleEvent:handleChange,isImportant:true,inputProp:{inputMode:'text'},isValidate:!isNullOrEmpty(data.CONFIRM_PASS),message:t('validate_data')}),valid&&/*#__PURE__*/_jsxs(Typography,{className:\"b-validate\",children:[/*#__PURE__*/_jsx(HighlightOffIcon,{sx:{width:'17px',height:'17px'}}),t('validate_equal')]})]})]}),/*#__PURE__*/_jsx(Box,{className:\"s-modal__bot s-modal__bot--center\",children:/*#__PURE__*/_jsx(ButtonRound,{title:\"OK\",bgColor:\"#4caf50\",handleClick:handleReg})})]})})});};export default ModalRegister;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}